Generate comprehensive Rust tests.

Code:
```rust
{{code}}
```

OUTPUT TEST CODE ONLY (#[cfg(test)] module):