{
  "id": "python-django-view",
  "name": "Python Django View Generator",
  "description": "Generates Django views with models, serializers, and admin integration",
  "steps": [
    {
      "name": "sparc-phase-1-research",
      "operation": {
        "type": "generate",
        "generate": "sparc-research"
      }
    },
    {
      "name": "sparc-phase-2-architecture",
      "operation": {
        "type": "generate",
        "generate": "sparc-architecture"
      }
    },
    {
      "name": "sparc-phase-3-security",
      "operation": {
        "type": "generate",
        "generate": "sparc-security"
      }
    },
    {
      "name": "sparc-phase-5-implementation",
      "operation": {
        "type": "generate",
        "generate": "python-django"
      }
    }
  ],
  "metadata": {
    "version": "1.0.0",
    "author": "SPARC Team",
    "created_at": "2025-10-04T00:00:00Z",
    "updated_at": "2025-10-04T00:00:00Z",
    "tags": [
      "python",
      "django",
      "orm",
      "rest",
      "drf"
    ],
    "performance": {
      "avg_execution_time_ms": 120.0,
      "memory_usage_bytes": 2621440,
      "complexity": 6
    }
  },
  "detector_signatures": {
    "package_files": [
      "requirements.txt",
      "manage.py"
    ],
    "dependencies": [
      "django",
      "djangorestframework"
    ],
    "file_patterns": [
      "manage.py",
      "**/models.py",
      "**/views.py"
    ],
    "import_patterns": [
      "from django",
      "import django",
      "Django",
      "class.*models.Model"
    ],
    "config_files": [
      "settings.py"
    ],
    "min_confidence": 0.8
  },
  "ai_signature": {
    "name": "python_django_view",
    "inputs": {
      "model_name": "Django model name (e.g., User, Product)",
      "app_name": "Django app name",
      "fields": "Model fields specification",
      "use_drf": "Use Django REST Framework (default: true)"
    },
    "outputs": {
      "models": "Django model with migrations",
      "views": "View functions or class-based views",
      "serializers": "DRF serializers (if using DRF)",
      "admin": "Django admin configuration",
      "urls": "URL routing",
      "tests": "Django TestCase tests"
    },
    "instruction": "Generate production-ready Django code with: (1) Models with proper field types and validators, (2) DRF viewsets with permissions, (3) Serializers with validation, (4) Admin interface customization, (5) URL routing, (6) Comprehensive tests. Follow Django best practices."
  },
  "template_content": "# models.py\nfrom django.db import models\nfrom django.core.validators import MinLengthValidator\n\nclass {{ModelName}}(models.Model):\n    \"\"\"{{ModelName}} model.\"\"\"\n    \n    name = models.CharField(\n        max_length=100,\n        validators=[MinLengthValidator(1)],\n        help_text=\"{{ModelName}} name\"\n    )\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        db_table = '{{app_name}}_{{model_name}}'\n        ordering = ['-created_at']\n        verbose_name = '{{ModelName}}'\n        verbose_name_plural = '{{ModelName}}s'\n    \n    def __str__(self):\n        return self.name\n\n# serializers.py (Django REST Framework)\nfrom rest_framework import serializers\n\nclass {{ModelName}}Serializer(serializers.ModelSerializer):\n    \"\"\"Serializer for {{ModelName}} model.\"\"\"\n    \n    class Meta:\n        model = {{ModelName}}\n        fields = ['id', 'name', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n    \n    def validate_name(self, value):\n        if not value.strip():\n            raise serializers.ValidationError(\"Name cannot be empty\")\n        return value.strip()\n\n# views.py\nfrom rest_framework import viewsets, permissions\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\n\nclass {{ModelName}}ViewSet(viewsets.ModelViewSet):\n    \"\"\"ViewSet for {{ModelName}} CRUD operations.\"\"\"\n    \n    queryset = {{ModelName}}.objects.all()\n    serializer_class = {{ModelName}}Serializer\n    permission_classes = [permissions.IsAuthenticated]\n    \n    def get_queryset(self):\n        \"\"\"Filter queryset based on user permissions.\"\"\"\n        return super().get_queryset()\n\n# admin.py\nfrom django.contrib import admin\n\n@admin.register({{ModelName}})\nclass {{ModelName}}Admin(admin.ModelAdmin):\n    \"\"\"Admin interface for {{ModelName}}.\"\"\"\n    \n    list_display = ['id', 'name', 'created_at', 'updated_at']\n    list_filter = ['created_at']\n    search_fields = ['name']\n    readonly_fields = ['created_at', 'updated_at']\n\n# urls.py\nfrom rest_framework.routers import DefaultRouter\n\nrouter = DefaultRouter()\nrouter.register(r'{{model_name}}', {{ModelName}}ViewSet)\n\nurlpatterns = router.urls\n\n# tests.py\nfrom django.test import TestCase\nfrom rest_framework.test import APIClient\n\nclass {{ModelName}}Tests(TestCase):\n    def setUp(self):\n        self.client = APIClient()\n    \n    def test_create_{{model_name}}(self):\n        data = {'name': 'Test {{ModelName}}'}\n        response = self.client.post('/{{model_name}}/', data)\n        self.assertEqual(response.status_code, 201)\n",
  "parent_pattern": null
}