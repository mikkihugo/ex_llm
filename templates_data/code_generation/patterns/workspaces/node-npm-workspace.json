{
  "$schema": "https://singularity.dev/schemas/template/v1",
  "version": "1.0",
  "type": "workspace_pattern",
  "metadata": {
    "id": "node-npm-workspace",
    "name": "Node.js NPM Workspace",
    "description": "Node.js monorepo using NPM workspaces",
    "language": "javascript",
    "tags": ["workspace", "monorepo", "node", "npm"],
    "author": "singularity",
    "created": "2025-01-15",
    "updated": "2025-01-15"
  },
  "content": {
    "detection": {
      "indicators": [
        "package.json with workspaces field",
        "Multiple package.json files in subdirectories",
        "node_modules/.pnpm directory (if using pnpm)"
      ],
      "confidence_threshold": 0.8
    },
    "structure": {
      "root_files": ["package.json", "package-lock.json"],
      "workspace_members": [
        "packages/*",
        "apps/*",
        "libs/*"
      ],
      "common_directories": [
        "packages/",
        "apps/",
        "libs/",
        "tools/",
        "docs/"
      ]
    },
    "commands": {
      "build": ["npm run build", "npm run build --workspaces"],
      "test": ["npm test", "npm test --workspaces"],
      "lint": ["npm run lint", "npm run lint --workspaces"],
      "format": ["npm run format", "npm run format --workspaces"],
      "install": ["npm install", "npm install --workspaces"]
    },
    "naming_conventions": {
      "packages": "kebab-case",
      "files": "kebab-case",
      "functions": "camelCase",
      "classes": "PascalCase",
      "variables": "camelCase",
      "constants": "UPPER_SNAKE_CASE"
    },
    "dependencies": {
      "workspace_deps": "defined in root package.json",
      "member_deps": "referenced in member package.json files"
    }
  },
  "quality": {
    "rules": [
      "must_have_workspace_config",
      "must_use_consistent_versioning",
      "must_have_shared_dev_dependencies"
    ],
    "score": 0.9
  }
}