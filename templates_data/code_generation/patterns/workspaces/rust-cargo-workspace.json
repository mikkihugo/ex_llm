{
  "$schema": "https://singularity.dev/schemas/template/v1",
  "version": "1.0",
  "type": "workspace_pattern",
  "metadata": {
    "id": "rust-cargo-workspace",
    "name": "Rust Cargo Workspace",
    "description": "Rust monorepo using Cargo workspaces",
    "language": "rust",
    "tags": ["workspace", "monorepo", "rust", "cargo"],
    "author": "singularity",
    "created": "2025-01-15",
    "updated": "2025-01-15"
  },
  "content": {
    "detection": {
      "indicators": [
        "Cargo.toml with [workspace] section",
        "Multiple Cargo.toml files in subdirectories",
        "workspace.members array in root Cargo.toml"
      ],
      "confidence_threshold": 0.8
    },
    "structure": {
      "root_files": ["Cargo.toml", "Cargo.lock"],
      "workspace_members": [
        "crates/*",
        "apps/*",
        "libs/*"
      ],
      "common_directories": [
        "crates/",
        "apps/",
        "libs/",
        "examples/",
        "tests/",
        "benches/"
      ]
    },
    "commands": {
      "build": ["cargo build", "cargo build --workspace"],
      "test": ["cargo test", "cargo test --workspace"],
      "lint": ["cargo clippy", "cargo clippy --workspace"],
      "format": ["cargo fmt", "cargo fmt --all"],
      "clean": ["cargo clean", "cargo clean --workspace"]
    },
    "naming_conventions": {
      "crates": "kebab-case",
      "modules": "snake_case",
      "functions": "snake_case",
      "structs": "PascalCase",
      "enums": "PascalCase",
      "traits": "PascalCase"
    },
    "dependencies": {
      "workspace_deps": "defined in root Cargo.toml [workspace.dependencies]",
      "member_deps": "referenced in member Cargo.toml files"
    }
  },
  "quality": {
    "rules": [
      "must_have_workspace_dependencies",
      "must_use_consistent_versioning",
      "must_have_shared_dev_dependencies"
    ],
    "score": 0.9
  }
}